{% load static %}
{% load humanize %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Receipt â€” Mayondo Wood & Furniture</title>
  <style>
    body {
      font-family: monospace, Arial, sans-serif;
      background: #fff;
      padding: 20px;
      color: #000;
    }
    .receipt {
      width: 320px;
      margin: auto;
      border: 1px dashed #000;
      padding: 20px;
    }
    .receipt h2 {
      text-align: center;
      margin: 0;
      font-size: 18px;
      border-bottom: 1px dashed #000;
      padding-bottom: 10px;
    }
    .company {
      text-align: center;
      font-size: 13px;
      margin-bottom: 15px;
    }
    .info, .items, .totals {
      font-size: 13px;
      margin-bottom: 10px;
    }
    .info p, .items p, .totals p {
      margin: 3px 0;
      display: flex;
      justify-content: space-between;
    }
    .totals {
      border-top: 1px dashed #000;
      padding-top: 5px;
      margin-top: 10px;
    }
    .footer {
      text-align: center;
      font-size: 12px;
      margin-top: 15px;
      border-top: 1px dashed #000;
      padding-top: 10px;
    }
    .btn-print {
      display: block;
      text-align: center;
      margin-top: 15px;
      padding: 6px;
      background: #4CAF50;
      color: #fff;
      text-decoration: none;
      border-radius: 4px;
      font-weight: bold;
    }
      /* Hide print button when printing */
  @media print {
    .btn-print {
      display: none;
    }
  }
  </style>
</head>
<body>
  <div class="receipt">
    <h2>Mayondo Wood & Furniture</h2>
    <div class="company">
      <p>123 Kampala Rd, Uganda</p>
      <p>Tel: +256 700 123 456</p>
    </div>

    <div class="info">
      <p><b>Receipt no:</b> <span>{{ sale.id|stringformat:"04d" }}</span></p>
      <p><b>Date:</b> <span>{{ sale.date|date:"F j, Y" }}</span></p>
      <p><b>Sales Agent:</b> <span>{{ sale.sales_agent.get_full_name|default:"Staff" }}</span></p>
      <p><b>Customer:</b> <span>{{ sale.customer_name }}</span></p>
    </div>

    <div class="items">
      <p><b>Item:</b> <span>{{ sale.stock_item.name }}</span></p>
      <p><b>Quantity:</b> <span>{{ sale.quantity_sold }}</span></p>
      <p><b>Unit Price:</b> <span>{{ unit_price|floatformat:2|intcomma }} UGX</span></p>
      <p><b>Price:</b> <span>{{ sale.sale_price|floatformat:2|intcomma }} UGX</span></p>
    </div>

    <div class="totals">
      <p><b>Transport:</b> <span>{{ sale.transport|floatformat:2|intcomma }} UGX</span></p>
      <p><b>Total Paid:</b> <span><b>{{ sale.total_price|floatformat:2|intcomma }} UGX</b></span></p>
    </div>

    <div class="footer">
      <p>Thank you for your purchase!</p>
      <p>&copy; {% now "Y" %} Mayondo Wood & Furniture</p>
    </div>

    <a href="#" onclick="window.print();" class="btn-print">ðŸ–¨ Print</a>
  </div>
</body>
</html>
