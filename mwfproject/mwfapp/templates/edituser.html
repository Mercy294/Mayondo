{% extends "base.html" %}
{% load static %}

{% block title %}Edit User â€” Mayondo Wood & Furniture{% endblock %}

{% block content %}
<!-- Main content area -->
<main class="ml-[100px] p-6 bg-[var(--cream)] min-h-screen">
  <div class="max-w-3xl mx-auto bg-white p-6 rounded-xl shadow-md">
    <h1 class="text-2xl text-[#643310] font-bold mb-6 text-center">Edit User</h1>

    <form method="POST" action="{% url 'editUser' user.id %}" class="space-y-4">
      {% csrf_token %}

      <!-- First Name -->
      <div>
        <label for="first_name" class="block font-semibold mb-1">First Name:</label>
        <input 
          type="text" 
          id="first_name" 
          name="first_name" 
          value="{{ user.first_name }}" 
          required 
          class="w-full text-lg border rounded p-2"
        >
      </div>

      <!-- Last Name -->
      <div>
        <label for="last_name" class="block font-semibold mb-1">Last Name:</label>
        <input 
          type="text" 
          id="last_name" 
          name="last_name" 
          value="{{ user.last_name }}" 
          required 
          class="w-full text-lg border rounded p-2"
        >
      </div>

      <!-- Username -->
      <div>
        <label for="username" class="block font-semibold mb-1">Username:</label>
        <input 
          type="text" 
          id="username" 
          name="username" 
          value="{{ user.username }}" 
          required 
          class="w-full text-lg border rounded p-2"
        >
      </div>

      <!-- Phone -->
      <div>
        <label for="phone" class="block font-semibold mb-1">Phone Number:</label>
        <input 
          type="text" 
          id="phone" 
          name="phone" 
          value="{{ user.phone }}" 
          required 
          class="w-full text-lg border rounded p-2"
        >
      </div>

      <!-- Role -->
      <div>
        <label for="role" class="block font-semibold mb-1">Role:</label>
        <select id="role" name="role" class="w-full text-lg border rounded p-2" required>
          <option value="MANAGER" {% if user.role == 'MANAGER' %}selected{% endif %}>Manager</option>
          <option value="SALES_AGENT" {% if user.role == 'SALES_AGENT' %}selected{% endif %}>Sales Agent</option>
        </select>
      </div>

      <!-- Email -->
      <div>
        <label for="email" class="block font-semibold mb-1">Email:</label>
        <input 
          type="email" 
          id="email" 
          name="email" 
          value="{{ user.email }}" 
          required 
          class="w-full text-lg border rounded p-2"
        >
      </div>

      <!-- Buttons -->
      <div class="text-center mt-6">
        <button 
          type="submit" 
          class="bg-[#643310] text-white font-bold text-lg px-6 py-2 rounded hover:bg-[#4a260c] transition"
        >
          Save Changes
        </button>
        <a 
          href="{% url 'usersPage' %}" 
          class="ml-4 px-8 py-3 text-lg bg-gray-700 text-white font-bold rounded hover:bg-gray-800 transition"
        >
          Cancel
        </a>
      </div>
    </form>
  </div>
</main>
{% endblock %}
